document.addEventListener("DOMContentLoaded",function(){$(".bottom-menu-item").on("click",function(){$(".bottom-menu-item").removeClass("bottom-menu-item-active"),$(this).toggleClass("bottom-menu-item-active")}),$("#wallet-edit-cancel").on("click",function(){$(".wallet-edit-box").css("display","none"),$(".body-darker").css("display","none")}),$(".top-menu-exchange-wallet-button-add").on("click",function(){$("#wallet-edit-mod").val("add-new"),$(".wallet-edit-box").css("display","flex"),$(".body-darker").css("display","unset"),$("#edit-box-wallet-address").val(""),$("#edit-box-wallet-name").val("")}),$(".wallet-edit-button").on("click",function(){var e=$(this)[0].firstElementChild.value,t=$(this)[0].children[1].value;$("#wallet-edit-mod").val("edit-"+e),$(".wallet-edit-box").css("display","flex"),$(".body-darker").css("display","unset"),$("#edit-box-wallet-address").val(e),$("#edit-box-wallet-name").val(t)}),$("#wallet-edit-submit").on("click",function(){var e=$("#wallet-edit-mod").val(),t=$("#edit-box-wallet-address").val(),a=$("#edit-box-wallet-name").val(),n="",l="";if(t.length<10)alert("Address is invalid");else if(a.length<=1)alert("Name is invalid");else{if(e.includes("edit")){l="wallet_edit";var i=e.split("-")[1];n=JSON.stringify({old_address:i,new_address:t,new_name:a})}else l="wallet_add",n=JSON.stringify({new_address:t,new_name:a});var o=new XMLHttpRequest;o.onerror=function(){alert("unexpected error, try again")},o.ontimeout=function(){alert("check your connection and try again")},o.open("POST","http://localhost/ExchangeWebsite/backend/tools.php?command="+l,!1),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){if(4===o.readyState){var e=o.responseText;if(e.includes("status")){var t=JSON.parse(e);t.status?($(".wallet-edit-box").css("display","none"),$(".body-darker").css("display","none"),window.location=window.location):"auth required"===t.error?window.location="http://localhost/ExchangeWebsite/backend/login.php":alert(t.error)}else alert("unexpected error, try again")}},o.send(n)}})});